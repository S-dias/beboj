
Developer Readme
================

I am using GWT 2.2 at the moment (but might work with other versions as well).

Modules
-------

 * Beboj (org.openstreetmap.beboj.Beboj)
    The main module.
    
    inherits JOSM
    
 * JOSM (org.openstreetmap.josm.JOSM)
    Contains JOSM code that is compiled for client use.
    
    inherits JavaEmulation
    
    should not (or as little as possible) depend on GWT specific classes
    For future synchronisation, the sources better stay as close to the original as (sensibly) possible.
    
    Porting Java to the GWT subset
    ------------------------------
    
    Common things that need fixing:
     * remove @Override for clone(): in GWT, 'Object' does not have a clone() method
     * get rid of String.format: not implemented by GWT
     * no 'Double.doubleToLongBits(d)' - replace by '(int) d' (bad hash) or '(""+d).hashCode()' (expensive)
     
    Concurrency is not an issue, so AtomicLong can by replaced by long and so forth.

 * JavaEmulation (org.openstreetmap.beboj.emul.JavaEmulation)
    Partial classpath emulation.
    
    The code from this module will only run in web mode. In development mode, normal JRE classes are used instead. 
    This is a limitation of the GWT framework. For workaround, one can rename the packages, so they no longer match classpath.
    

