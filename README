
        Developer Readme
      ====================


I am using GWT 2.2 at the moment (but might work with other versions as well).


 Modules
 =======

 * Beboj (org.openstreetmap.beboj.Beboj)
    The main module.

    inherits JOSM

 * JOSM (org.openstreetmap.josm.JOSM)
    Contains JOSM code that is compiled for client use.

    inherits JavaEmulation

    should not (or as little as possible) depend on GWT specific classes
    For future synchronisation, the sources better stay as close to the original as (sensibly) possible.

    This module contains classes that are not present in JOSM, but could go upstream in principle:
     - everything in the org.openstreetmap.josm.beboj package
     - org.openstreetmap.josm.data.osm.QBLevel
          This is just a workaround for some GWT bug. (see QuadBuckets for details)
     - org.openstreetmap.josm.gui.NavigationSupport & SmoothZoomNavigationSupport
          Generalize the zoom handling.

    Porting Java to the GWT subset
    ------------------------------

    Common things that need fixing:
     * remove @Override for clone(): in GWT, 'Object' does not have a clone() method
     * get rid of String.format: not implemented by GWT
     * no 'Double.doubleToLongBits(d)' - replace by '(int) d' (bad hash) or '(""+d).hashCode()' (expensive)

    Concurrency is not an issue, so AtomicLong can by replaced by long and so forth.

 * JavaEmulation (org.openstreetmap.beboj.emul.JavaEmulation)
    Partial classpath emulation.

    The code from this module will only run in web mode. In development mode, normal JRE classes are used instead.
    This is a limitation of the GWT framework. For workaround, one can rename the packages, so they no longer match classpath.


  References
  ==========

Obviously, most of the code is taken from the JOSM project (http://josm.openstreetmap.de/).

EditMode Mouse Handling is very much inspired by Potlatch 2 (http://www.geowiki.co.uk/).



